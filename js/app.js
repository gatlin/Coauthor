"use strict";var App;App=angular.module("app",["ngCookies","ngResource","app.controllers","app.directives","app.filters","app.services"]),App.config(["$routeProvider","$locationProvider",function(e,t,n){return e.when("/e/:id",{templateUrl:"/partials/edit.html"}).when("/p/:id",{templateUrl:"/partials/page.html"}).when("/all",{templateUrl:"/partials/all.html"}).otherwise({redirectTo:"/p/home"}),t.html5Mode(!1)}]),"use strict",angular.module("app.controllers",["ui","ngSanitize"]).controller("AppCtrl",["$scope","$location","$resource","$rootScope",function(e,t,n,r){return e.$location=t,e.$watch("$location.path()",function(t){return e.activeNavId=t||"/"}),e.getClass=function(t){return e.activeNavId.substring(0,t.length)===t?"active":""},e.converter=new Showdown.converter,e.md2html=function(t){return e.converter.makeHtml(t)},e.html2md=function(e){var t;return t=e.split("\n").map($.trim).filter(function(e){return e!==""}).join("\n"),toMarkdown(t)},$.pnotify.defaults.history=!1}]).directive("editable",function(){return function(e,t,n){var r,i;return i=n.id,r=$("#"+i).wysihtml5({useLineBreaks:!1,autoLink:!0,parserRules:wysihtml5ParserRules,stylesheets:["./inner.css"]}).data("wysihtml5").editor,r.on("load",function(){return e.$watch("content",function(){return console.log(e.content),r.setValue(e.content,!0)})})}}).controller("EditCtrl",["$scope","$routeParams",function(e,t){return e.pageId=t.id,console.log(e.pageId),Pouch("idb://pages",function(t,n){return e.pouchdb=n,n.get(e.pageId,function(t,r){return t?(n.put({_id:e.pageId,content:""}),e.content=""):(console.log(r),e.$apply(function(){return e.content=r.content,console.log(e.content)}))})}),e.save=function(t){var n;return n=$("#"+t).val(),e.pouchdb.get(e.pageId,function(t,r){return r.content=n,e.pouchdb.put(r,function(e,t){console.log(t);if(!e)return $.pnotify({text:"Saved!",styling:"bootstrap",delay:5e3,hide:!0})})})}}]).controller("PageCtrl",["$scope","$routeParams",function(e,t){return e.pageId=t.id,console.log(e.pageId),Pouch("idb://pages",function(t,n){return e.pouchdb=n,n.get(e.pageId,function(t,r){return t?(n.put({_id:e.pageId,content:""}),e.content=""):e.$apply(function(){return e.content=r.content,console.log(r.content)})})})}]).controller("AllCtrl",["$scope",function(e){return Pouch("idb://pages",function(t,n){return n.allDocs({include_docs:!0},function(t,n){return console.log(n.rows),e.$apply(function(){return e.docs=n.rows})})})}]),"use strict",angular.module("app.directives",["app.services"]).directive("appVersion",["version",function(e){return function(t,n,r){return n.text(e)}}]),"use strict",angular.module("app.filters",[]).filter("interpolate",["version",function(e){return function(t){return String(t).replace(/\%VERSION\%/mg,e)}}]),"use strict",angular.module("app.services",[]).factory("version",function(){return"0.1"})